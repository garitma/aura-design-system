import{r as d}from"./index-ZUrBV4M6.js";const V=o=>{const[t,s]=d.useState(o),[n,f]=d.useState(null),[c,a]=d.useState(!1);return{value:t,onChange:S=>{s(S.target.value),!c&&a(!0)},error:n,touch:c,reset:()=>s(o),dialog:f,setTouch:a,setValue:s,helpText:n,isHelping:!!(n&&c)}},v=o=>{const t={};for(const s in o)t[s]=V(o[s]);return{...t}},F=(o,t,s=50)=>{const[n,f]=d.useState(!1);return d.useEffect(()=>{const c=setTimeout(()=>{f(t(o))},s);return()=>{clearTimeout(c)}},[o,t]),n},I=o=>Object.values(o).some(t=>t===!1),M=()=>{const[o,t]=d.useState({isLoading:!1,isSubmited:!1,info:{isError:!1,message:null}}),s=i=>t(u=>({...u,isLoading:i})),n=i=>t(u=>({...u,isSubmited:i})),f=i=>t(u=>({...u,info:{...u.info,isError:i}})),c=i=>t(u=>({...u,info:{...u.info,message:i}})),a=()=>{t({isLoading:!1,isSubmited:!1,info:{isError:!1,message:null}})};return{state:o,message:o.info.message,setStatus:t,setMessage:c,setIsLoading:s,setSubmited:n,setIsError:f,resetStatus:a}},b=(o={})=>{const[t,s]=d.useState(o),[n,f]=d.useState({}),[c,a]=d.useState({}),[i,u]=d.useState({});return{value:t,error:n,touch:c,setTouch:a,setValue:s,setError:f,helpMode:i,setHelpMode:u}},y=(o,t)=>{const s=b(o),n=(e,r)=>{s.setValue(h=>{const l={...h,[e]:r};if(t){const g=a();for(const p in g)g[p].value=l[p];t(g)}return l}),!s.touch[e]&&s.setTouch(h=>({...h,[e]:!0}))},f=(e,r)=>{s.setError(h=>({...h,[e]:r}))},c=e=>{const r=s.error[e]??null,h=s.touch[e];return{value:s.value[e]??"",setValue:l=>n(e,l),onChange:l=>{const{value:g}=l.target;n(e,g),s.setTouch(p=>({...p,[e]:!0}))},error:r,helpText:r,isHelping:!!(r&&h),helpMode:s.helpMode[e]??"warning",setHelpMode:l=>s.setHelpMode(g=>({...g,[e]:l})),dialog:l=>f(e,l),touch:h,setTouch:l=>s.setTouch(g=>({...g,[e]:l})),reset:()=>{n(e,""),s.setTouch(l=>({...l,[e]:!1}))}}},a=()=>Object.keys(s.value).reduce((e,r)=>(e[r]=c(r),e),{}),i=Object.keys(s.error).length>0&&Object.keys(s.error).every(e=>!s.error[e]),u=()=>{const e=a();for(const r in e)e[r].reset(),e[r].setTouch(!1)},T=()=>{const e=a();for(const r in e)e[r].setTouch(!0)};return{...s,resetForm:u,touchForm:T,isValid:i,validateValues:()=>{const e=a();T(),t&&t(e)},field:c,getFields:a,setFieldValue:n,dialog:f}};export{y as a,v as b,F as c,I as i,M as u};
