import{j as s}from"./index-ZUrBV4M6.js";import{S as b}from"./react-icons.esm-C1Iagv5F.js";import{u as w,a as x}from"./use-form-DZFLH4kq.js";import{I as d}from"./input-OaEYSJiv.js";import{T as S}from"./textarea-BqMNQiqw.js";import{B as j}from"./button-VG9UYSJz.js";import{A as v}from"./alert-DlR0PZC4.js";const M=()=>{const e=w(),{field:g,...u}=x({firstName:"",about:""}),{firstName:o,about:m}=u.getFields(),c=async l=>{if(l.preventDefault(),e.resetStatus(),e.setIsLoading(!0),u.validateValues(),!u.isValid){e.setIsError(!0),e.setIsLoading(!1),e.setMessage("Please validate all the fields");return}const f=await new Promise((t,n)=>{setTimeout(()=>{const a=Math.random()<.5;t({ok:a})},600)});p(f)},p=l=>{if(e.setIsLoading(!1),e.setSubmited(!0),!l.ok){e.setIsError(!0),e.setMessage("An unexpected error has occurred.");return}e.setMessage("Everything has gone well.")};return s.jsx("div",{children:s.jsxs("form",{onSubmit:c,children:[s.jsx(d,{placeholder:"Name",...o,isLabelable:!0}),s.jsx(S,{placeholder:"About",...m,isLabelable:!0}),s.jsx("div",{className:"inputer",children:s.jsx(j,{label:"Submit",isLoadingText:s.jsxs(s.Fragment,{children:[s.jsx(b,{className:"icon animate-spin"})," "]}),isLoading:e.state.isLoading,isFluid:!0})}),s.jsx(v,{state:e.state})]})})},k=()=>{const e=w(),g=t=>{const{firstName:n,password:a,email:r,repeatPassword:i}=t;e.setMessage(null),n.value?n.dialog(null):n.dialog("Name is required."),r.value?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(r.value)?r.dialog(null):r.dialog("Email is not valid."):r.dialog("Email is required."),a.value?/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[0-9a-zA-Z]{8,}$/.test(a.value)?a.dialog(null):a.dialog("Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, and one number."):a.dialog("Password is required."),i.value?i.value!==a.value?i.dialog("Passwords do not match."):i.dialog(null):i.dialog("Repeat password is required.")},{field:u,...o}=x({email:"",firstName:"",password:"",repeatPassword:""},g),{firstName:m,email:c,password:p,repeatPassword:l}=o.getFields(),h=async t=>{if(t.preventDefault(),e.resetStatus(),e.setIsLoading(!0),o.validateValues(),!o.isValid){e.setIsError(!0),e.setIsLoading(!1),e.setMessage("Please validate all the fields");return}const a=await new Promise((r,i)=>{setTimeout(()=>{const L=Math.random()<.5;r({ok:L})},600)});f(a)},f=t=>{if(e.setIsLoading(!1),e.setSubmited(!0),!t.ok){e.setIsError(!0),e.setMessage("An unexpected error has occurred.");return}e.setMessage("Everything has gone well.")};return console.log(o.value),s.jsx("div",{children:s.jsxs("form",{onSubmit:h,children:[s.jsx(d,{placeholder:"Name",...m,isLabelable:!0}),s.jsx(d,{placeholder:"Email",...c,isLabelable:!0}),s.jsx(d,{placeholder:"Password",...p,isLabelable:!0,type:"password"}),s.jsx(d,{placeholder:"Repeat password",...l,isLabelable:!0,type:"password"}),s.jsx("div",{className:"inputer",children:s.jsx(j,{label:"Submit",isLoadingText:s.jsxs(s.Fragment,{children:[s.jsx(b,{className:"icon animate-spin"})," "]}),isLoading:e.state.isLoading,isFluid:!0})}),s.jsx(v,{state:e.state})]})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{M as WithDynamicForm,k as WithValidator};
