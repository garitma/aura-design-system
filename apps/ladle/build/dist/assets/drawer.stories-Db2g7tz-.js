import{r as T,j as c,e as s}from"./index-C35-ezKL.js";import{c as Ft,u as Pe,P as ce,a as ue,b as Me,R as Ut,S as Vt,h as Bt,d as zt,F as Yt,D as Xt,e as qt,f as Gt,g as Kt,i as Ce}from"./index-D8FSnCW5.js";import{B as Jt}from"./button-CYh1CGT3.js";import{S as Zt}from"./section-6AE-a11C.js";var _e="Dialog",[Ze,Wn]=Ft(_e),[Qt,F]=Ze(_e),Qe=e=>{const{__scopeDialog:n,children:t,open:i,defaultOpen:o,onOpenChange:r,modal:a=!0}=e,u=T.useRef(null),b=T.useRef(null),[x=!1,C]=Kt({prop:i,defaultProp:o,onChange:r});return c.jsx(Qt,{scope:n,triggerRef:u,contentRef:b,contentId:Ce(),titleId:Ce(),descriptionId:Ce(),open:x,onOpenChange:C,onOpenToggle:T.useCallback(()=>C(p=>!p),[C]),modal:a,children:t})};Qe.displayName=_e;var et="DialogTrigger",tt=T.forwardRef((e,n)=>{const{__scopeDialog:t,...i}=e,o=F(et,t),r=Pe(n,o.triggerRef);return c.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":He(o.open),...i,ref:r,onClick:ue(e.onClick,o.onOpenToggle)})});tt.displayName=et;var je="DialogPortal",[en,nt]=Ze(je,{forceMount:void 0}),rt=e=>{const{__scopeDialog:n,forceMount:t,children:i,container:o}=e,r=F(je,n);return c.jsx(en,{scope:n,forceMount:t,children:T.Children.map(i,a=>c.jsx(Me,{present:t||r.open,children:c.jsx(Gt,{asChild:!0,container:o,children:a})}))})};rt.displayName=je;var be="DialogOverlay",ot=T.forwardRef((e,n)=>{const t=nt(be,e.__scopeDialog),{forceMount:i=t.forceMount,...o}=e,r=F(be,e.__scopeDialog);return r.modal?c.jsx(Me,{present:i||r.open,children:c.jsx(tn,{...o,ref:n})}):null});ot.displayName=be;var tn=T.forwardRef((e,n)=>{const{__scopeDialog:t,...i}=e,o=F(be,t);return c.jsx(Ut,{as:Vt,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(ce.div,{"data-state":He(o.open),...i,ref:n,style:{pointerEvents:"auto",...i.style}})})}),Z="DialogContent",it=T.forwardRef((e,n)=>{const t=nt(Z,e.__scopeDialog),{forceMount:i=t.forceMount,...o}=e,r=F(Z,e.__scopeDialog);return c.jsx(Me,{present:i||r.open,children:r.modal?c.jsx(nn,{...o,ref:n}):c.jsx(rn,{...o,ref:n})})});it.displayName=Z;var nn=T.forwardRef((e,n)=>{const t=F(Z,e.__scopeDialog),i=T.useRef(null),o=Pe(n,t.contentRef,i);return T.useEffect(()=>{const r=i.current;if(r)return Bt(r)},[]),c.jsx(at,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,r=>{var a;r.preventDefault(),(a=t.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,r=>{const a=r.detail.originalEvent,u=a.button===0&&a.ctrlKey===!0;(a.button===2||u)&&r.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,r=>r.preventDefault())})}),rn=T.forwardRef((e,n)=>{const t=F(Z,e.__scopeDialog),i=T.useRef(!1),o=T.useRef(!1);return c.jsx(at,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var a,u;(a=e.onCloseAutoFocus)==null||a.call(e,r),r.defaultPrevented||(i.current||(u=t.triggerRef.current)==null||u.focus(),r.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:r=>{var b,x;(b=e.onInteractOutside)==null||b.call(e,r),r.defaultPrevented||(i.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const a=r.target;((x=t.triggerRef.current)==null?void 0:x.contains(a))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),at=T.forwardRef((e,n)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:r,...a}=e,u=F(Z,t),b=T.useRef(null),x=Pe(n,b);return zt(),c.jsxs(c.Fragment,{children:[c.jsx(Yt,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:r,children:c.jsx(Xt,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":He(u.open),...a,ref:x,onDismiss:()=>u.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(on,{titleId:u.titleId}),c.jsx(sn,{contentRef:b,descriptionId:u.descriptionId})]})]})}),ke="DialogTitle",st=T.forwardRef((e,n)=>{const{__scopeDialog:t,...i}=e,o=F(ke,t);return c.jsx(ce.h2,{id:o.titleId,...i,ref:n})});st.displayName=ke;var lt="DialogDescription",ut=T.forwardRef((e,n)=>{const{__scopeDialog:t,...i}=e,o=F(lt,t);return c.jsx(ce.p,{id:o.descriptionId,...i,ref:n})});ut.displayName=lt;var ct="DialogClose",dt=T.forwardRef((e,n)=>{const{__scopeDialog:t,...i}=e,o=F(ct,t);return c.jsx(ce.button,{type:"button",...i,ref:n,onClick:ue(e.onClick,()=>o.onOpenChange(!1))})});dt.displayName=ct;function He(e){return e?"open":"closed"}var ft="DialogTitleWarning",[Fn,gt]=qt(ft,{contentName:Z,titleName:ke,docsSlug:"dialog"}),on=({titleId:e})=>{const n=gt(ft),t=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(t))},[t,e]),null},an="DialogDescriptionWarning",sn=({contentRef:e,descriptionId:n})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${gt(an).contentName}}.`;return T.useEffect(()=>{var r;const o=(r=e.current)==null?void 0:r.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(i))},[i,e,n]),null},ln=Qe,un=tt,cn=rt,dn=ot,fn=it,gn=st,mn=ut,hn=dt;function pn(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const mt=s.createContext({drawerRef:{current:null},overlayRef:{current:null},scaleBackground:()=>{},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,handleOnly:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},visible:!1,closeDrawer:()=>{},setVisible:()=>{},direction:"bottom"}),ye=()=>{const e=s.useContext(mt);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};pn("[vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1)}[vaul-drawer][vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[vaul-drawer][vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[vaul-drawer][vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[vaul-drawer][vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}.vaul-dragging .vaul-scrollable [vault-drawer-direction=top]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=bottom]{overflow-y:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=left]{overflow-x:hidden!important}.vaul-dragging .vaul-scrollable [vault-drawer-direction=right]{overflow-x:hidden!important}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-drawer][vaul-drawer-visible=true][vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[vaul-overlay]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[vaul-overlay][vaul-drawer-visible=true]{opacity:1}[vaul-drawer]::after{content:'';position:absolute;background:inherit;background-color:inherit}[vaul-drawer][vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[vaul-drawer][vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[vaul-drawer][vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[vaul-handle]{display:block;position:relative;opacity:.8;margin-left:auto;margin-right:auto;height:5px;width:56px;border-radius:1rem;touch-action:pan-y;cursor:grab}[vaul-handle]:active,[vaul-handle]:hover{opacity:1}[vaul-handle]:active{cursor:grabbing}[vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}[vaul-overlay][vaul-snap-points=true]:not([vaul-snap-points-overlay=true]):not([data-state=closed]){opacity:0}[vaul-overlay][vaul-snap-points-overlay=true]:not([vaul-drawer-visible=false]){opacity:1}@media (hover:hover) and (pointer:fine){[vaul-drawer]{user-select:none}}@media (pointer:fine){[vaul-handle-hitarea]:{width:100%;height:100%}}");const ht=typeof window<"u"?T.useLayoutEffect:T.useEffect;function $e(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}function wn(){return Le(/^Mac/)}function vn(){return Le(/^iPhone/)}function bn(){return Le(/^iPad/)||wn()&&navigator.maxTouchPoints>1}function pt(){return vn()||bn()}function Le(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Oe=typeof document<"u"&&window.visualViewport;function qe(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function wt(e){for(qe(e)&&(e=e.parentElement);e&&!qe(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const yn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let pe=0,Ne;function Dn(e={}){let{isDisabled:n}=e;ht(()=>{if(!n)return pe++,pe===1&&(pt()?Ne=En():Ne=xn()),()=>{pe--,pe===0&&Ne()}},[n])}function xn(){return $e(vt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`))}function En(){let e,n=0,t=p=>{e=wt(p.target),!(e===document.documentElement&&e===document.body)&&(n=p.changedTouches[0].pageY)},i=p=>{if(!e||e===document.documentElement||e===document.body){p.preventDefault();return}let m=p.changedTouches[0].pageY,f=e.scrollTop,_=e.scrollHeight-e.clientHeight;_!==0&&((f<=0&&m>n||f>=_&&m<n)&&p.preventDefault(),n=m)},o=p=>{let m=p.target;Ie(m)&&m!==document.activeElement&&(p.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},r=p=>{let m=p.target;Ie(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",Oe&&(Oe.height<window.innerHeight?requestAnimationFrame(()=>{Ge(m)}):Oe.addEventListener("resize",()=>Ge(m),{once:!0}))}))},a=()=>{window.scrollTo(0,0)},u=window.pageXOffset,b=window.pageYOffset,x=$e(vt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let C=$e(ae(document,"touchstart",t,{passive:!1,capture:!0}),ae(document,"touchmove",i,{passive:!1,capture:!0}),ae(document,"touchend",o,{passive:!1,capture:!0}),ae(document,"focus",r,!0),ae(window,"scroll",a));return()=>{x(),C(),window.scrollTo(u,b)}}function vt(e,n,t){let i=e.style[n];return e.style[n]=t,()=>{e.style[n]=i}}function ae(e,n,t,i){return e.addEventListener(n,t,i),()=>{e.removeEventListener(n,t,i)}}function Ge(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=wt(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let i=t.getBoundingClientRect().top,o=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;const a=t.getBoundingClientRect().bottom;r>a&&(t.scrollTop+=o-i)}e=t.parentElement}}function Ie(e){return e instanceof HTMLInputElement&&!yn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Rn(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Sn(...e){return n=>e.forEach(t=>Rn(t,n))}function bt(...e){return T.useCallback(Sn(...e),e)}let se=null;function Tn({isOpen:e,modal:n,nested:t,hasBeenOpened:i,preventScrollRestoration:o,noBodyStyles:r}){const[a,u]=s.useState(()=>typeof window<"u"?window.location.href:""),b=s.useRef(0),x=s.useCallback(()=>{if(se===null&&e&&!r){se={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-b.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const f=m-window.innerHeight;f&&b.current>=m&&(document.body.style.top=`${-(b.current+f)}px`)}),300)}},[e]),C=s.useCallback(()=>{if(se!==null&&!r){const p=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,se),window.requestAnimationFrame(()=>{if(o&&a!==window.location.href){u(window.location.href);return}window.scrollTo(m,p)}),se=null}},[a]);return s.useEffect(()=>{function p(){b.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),s.useEffect(()=>{t||!i||(e?(!window.matchMedia("(display-mode: standalone)").matches&&x(),n||window.setTimeout(()=>{C()},500)):C())},[e,i,a,n,t,x,C]),{restorePositionSetting:C}}const yt=new WeakMap;function R(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let i={};Object.entries(n).forEach(([o,r])=>{if(o.startsWith("--")){e.style.setProperty(o,r);return}i[o]=e.style[o],e.style[o]=r}),!t&&yt.set(e,i)}function we(e,n){if(!e||!(e instanceof HTMLElement))return;let t=yt.get(e);t&&(n?e.style[n]=t[n]:Object.entries(t).forEach(([i,o])=>{e.style[i]=o}))}const P=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ve(e,n){if(!e)return null;const t=window.getComputedStyle(e),i=t.transform||t.webkitTransform||t.mozTransform;let o=i.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[P(n)?13:12]):(o=i.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[P(n)?5:4]):null)}function Cn(e){return 8*(Math.log(e+1)-2)}const E={DURATION:.5,EASE:[.32,.72,0,1]},Dt=.4;function xt(e){const n=s.useRef(e);return s.useEffect(()=>{n.current=e}),s.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function On({defaultProp:e,onChange:n}){const t=s.useState(e),[i]=t,o=s.useRef(i),r=xt(n);return s.useEffect(()=>{o.current!==i&&(r(i),o.current=i)},[i,o,r]),t}function Nn({prop:e,defaultProp:n,onChange:t=()=>{}}){const[i,o]=On({defaultProp:n,onChange:t}),r=e!==void 0,a=r?e:i,u=xt(t),b=s.useCallback(x=>{if(r){const p=typeof x=="function"?x(e):x;p!==e&&u(p)}else o(x)},[r,e,o,u]);return[a,b]}function An({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:i,overlayRef:o,fadeFromIndex:r,onSnapPointChange:a,direction:u="bottom"}){const[b,x]=Nn({prop:e,defaultProp:t==null?void 0:t[0],onChange:n}),C=s.useMemo(()=>b===(t==null?void 0:t[t.length-1])||null,[t,b]),p=t&&t.length>0&&(r||r===0)&&!Number.isNaN(r)&&t[r]===b||!t,m=s.useMemo(()=>t==null?void 0:t.findIndex(y=>y===b),[t,b]),f=s.useMemo(()=>{var y;return(y=t==null?void 0:t.map(l=>{const D=typeof window<"u",A=typeof l=="string";let $=0;if(A&&($=parseInt(l,10)),P(u)){const g=A?$:D?l*window.innerHeight:0;return D?u==="bottom"?window.innerHeight-g:-window.innerHeight+g:g}const O=A?$:D?l*window.innerWidth:0;return D?u==="right"?window.innerWidth-O:-window.innerWidth+O:O}))!=null?y:[]},[t]),_=s.useMemo(()=>m!==null?f==null?void 0:f[m]:null,[f,m]),M=s.useCallback(y=>{var l;const D=(l=f==null?void 0:f.findIndex(A=>A===y))!=null?l:null;a(D),R(i.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:P(u)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`}),f&&D!==f.length-1&&D!==r?R(o.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"0"}):R(o.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),x(D!==null?t==null?void 0:t[D]:null)},[i.current,t,f,r,o,x]);s.useEffect(()=>{if(b||e){var y;const l=(y=t==null?void 0:t.findIndex(D=>D===e||D===b))!=null?y:-1;f&&l!==-1&&typeof f[l]=="number"&&M(f[l])}},[b,e,t,f,M]);function X({draggedDistance:y,closeDrawer:l,velocity:D,dismissible:A}){if(r===void 0)return;const $=u==="bottom"||u==="right"?(_??0)-y:(_??0)+y,O=m===r-1,g=m===0,j=y>0;if(O&&R(o.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),D>2&&!j){A?l():M(f[0]);return}if(D>2&&j&&f&&t){M(f[t.length-1]);return}const U=f==null?void 0:f.reduce((k,B)=>typeof k!="number"||typeof B!="number"?k:Math.abs(B-$)<Math.abs(k-$)?B:k),H=P(u)?window.innerHeight:window.innerWidth;if(D>Dt&&Math.abs(y)<H*.4){const k=j?1:-1;if(k>0&&C){M(f[t.length-1]);return}if(g&&k<0&&A&&l(),m===null)return;M(f[m+k]);return}M(U)}function W({draggedDistance:y}){if(_===null)return;const l=u==="bottom"||u==="right"?_-y:_+y;(u==="bottom"||u==="right")&&l<f[f.length-1]||(u==="top"||u==="left")&&l>f[f.length-1]||R(i.current,{transform:P(u)?`translate3d(0, ${l}px, 0)`:`translate3d(${l}px, 0, 0)`})}function z(y,l){if(!t||typeof m!="number"||!f||r===void 0)return null;const D=m===r-1;if(m>=r&&l)return 0;if(D&&!l)return 1;if(!p&&!D)return null;const $=D?m+1:m-1,O=D?f[$]-f[$-1]:f[$+1]-f[$],g=y/Math.abs(O);return D?1-g:g}return{isLastSnapPoint:C,activeSnapPoint:b,shouldFade:p,getPercentageDragged:z,setActiveSnapPoint:x,activeSnapPointIndex:m,onRelease:X,onDrag:W,snapPointsOffset:f}}const $n=.25,In=100,Ke=8,J=16,Je=26,Ae="vaul-dragging";function Et({open:e,onOpenChange:n,children:t,shouldScaleBackground:i,onDrag:o,onRelease:r,snapPoints:a,nested:u=!1,setBackgroundColorOnScale:b=!0,closeThreshold:x=$n,scrollLockTimeout:C=In,dismissible:p=!0,handleOnly:m=!1,fadeFromIndex:f=a&&a.length-1,activeSnapPoint:_,setActiveSnapPoint:M,fixed:X,modal:W=!0,onClose:z,noBodyStyles:y,direction:l="bottom",preventScrollRestoration:D=!0,disablePreventScroll:A=!1}){var $;const[O=!1,g]=s.useState(!1),[j,U]=s.useState(!1),[H,k]=s.useState(!1),[B,de]=s.useState(!1),[q,De]=s.useState(!1),[Ct,We]=s.useState(!1),G=s.useRef(null),fe=s.useRef(null),xe=s.useRef(null),Ee=s.useRef(null),ne=s.useRef(null),re=s.useRef(!1),Re=s.useRef(null),Se=s.useRef(0),Q=s.useRef(!1),Fe=s.useRef(0),h=s.useRef(null),Ue=s.useRef((($=h.current)==null?void 0:$.getBoundingClientRect().height)||0),Te=s.useRef(0),Ot=s.useCallback(d=>{a&&d===ie.length-1&&(fe.current=new Date)},[]),{activeSnapPoint:Nt,activeSnapPointIndex:oe,setActiveSnapPoint:Ve,onRelease:At,snapPointsOffset:ie,onDrag:$t,shouldFade:Be,getPercentageDragged:It}=An({snapPoints:a,activeSnapPointProp:_,setActiveSnapPointProp:M,drawerRef:h,fadeFromIndex:f,overlayRef:G,onSnapPointChange:Ot,direction:l});Dn({isDisabled:!O||q||!W||Ct||!j||A});const{restorePositionSetting:Pt}=Tn({isOpen:O,modal:W,nested:u,hasBeenOpened:j,preventScrollRestoration:D,noBodyStyles:y});function ee(){return(window.innerWidth-Je)/window.innerWidth}function Mt(d){var w;!p&&!a||h.current&&!h.current.contains(d.target)||(Ue.current=((w=h.current)==null?void 0:w.getBoundingClientRect().height)||0,De(!0),xe.current=new Date,pt()&&window.addEventListener("touchend",()=>re.current=!1,{once:!0}),d.target.setPointerCapture(d.pointerId),Se.current=P(l)?d.clientY:d.clientX)}function ze(d,w){var S;let v=d;const N=(S=window.getSelection())==null?void 0:S.toString(),I=h.current?ve(h.current,l):null,L=new Date;if(v.hasAttribute("data-vaul-no-drag")||v.closest("[data-vaul-no-drag]"))return!1;if(l==="right"||l==="left")return!0;if(fe.current&&L.getTime()-fe.current.getTime()<500)return!1;if(I!==null&&(l==="bottom"?I>0:I<0))return!0;if(N&&N.length>0)return!1;if(ne.current&&L.getTime()-ne.current.getTime()<C&&I===0||w)return ne.current=L,!1;for(;v;){if(v.scrollHeight>v.clientHeight){if(v.scrollTop!==0)return ne.current=new Date,!1;if(v.getAttribute("role")==="dialog")return!0}v=v.parentNode}return!0}function _t(d){if(h.current&&q){const w=l==="bottom"||l==="right"?1:-1,S=(Se.current-(P(l)?d.clientY:d.clientX))*w,v=S>0,N=a&&!p&&!v;if(N&&oe===0)return;const I=Math.abs(S),L=document.querySelector("[vaul-drawer-wrapper]");let V=I/Ue.current;const Y=It(I,v);if(Y!==null&&(V=Y),N&&V>=1||!re.current&&!ze(d.target,v))return;if(h.current.classList.add(Ae),re.current=!0,R(h.current,{transition:"none"}),R(G.current,{transition:"none"}),a&&$t({draggedDistance:S}),v&&!a){const K=Cn(S),he=Math.min(K*-1,0)*w;R(h.current,{transform:P(l)?`translate3d(0, ${he}px, 0)`:`translate3d(${he}px, 0, 0)`});return}const me=1-V;if((Be||f&&oe===f-1)&&(o==null||o(d,V),R(G.current,{opacity:`${me}`,transition:"none"},!0)),L&&G.current&&i){const K=Math.min(ee()+V*(1-ee()),1),he=8-V*8,Xe=Math.max(0,14-V*14);R(L,{borderRadius:`${he}px`,transform:P(l)?`scale(${K}) translate3d(0, ${Xe}px, 0)`:`scale(${K}) translate3d(${Xe}px, 0, 0)`,transition:"none"},!0)}if(!a){const K=I*w;R(h.current,{transform:P(l)?`translate3d(0, ${K}px, 0)`:`translate3d(${K}px, 0, 0)`})}}}s.useEffect(()=>()=>{ge(!1),Pt()},[]),s.useEffect(()=>{var d;function w(){if(!h.current)return;const S=document.activeElement;if(Ie(S)||Q.current){var v;const N=((v=window.visualViewport)==null?void 0:v.height)||0;let I=window.innerHeight-N;const L=h.current.getBoundingClientRect().height||0;Te.current||(Te.current=L);const V=h.current.getBoundingClientRect().top;if(Math.abs(Fe.current-I)>60&&(Q.current=!Q.current),a&&a.length>0&&ie&&oe){const Y=ie[oe]||0;I+=Y}if(Fe.current=I,L>N||Q.current){const Y=h.current.getBoundingClientRect().height;let me=Y;Y>N&&(me=N-Je),X?h.current.style.height=`${Y-Math.max(I,0)}px`:h.current.style.height=`${Math.max(me,N-V)}px`}else h.current.style.height=`${Te.current}px`;a&&a.length>0&&!Q.current?h.current.style.bottom="0px":h.current.style.bottom=`${Math.max(I,0)}px`}}return(d=window.visualViewport)==null||d.addEventListener("resize",w),()=>{var S;return(S=window.visualViewport)==null?void 0:S.removeEventListener("resize",w)}},[oe,a,ie]);function te(){h.current&&(jt(),z==null||z(),R(h.current,{transform:P(l)?`translate3d(0, ${l==="bottom"?"100%":"-100%"}, 0)`:`translate3d(${l==="right"?"100%":"-100%"}, 0, 0)`,transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),R(G.current,{opacity:"0",transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),ge(!1),setTimeout(()=>{k(!1),g(!1)},300),setTimeout(()=>{a&&Ve(a[0])},E.DURATION*1e3))}s.useEffect(()=>{if(!O&&i){const d=setTimeout(()=>{we(document.body)},200);return()=>clearTimeout(d)}},[O,i]),ht(()=>{e?(g(!0),U(!0)):te()},[e]),s.useEffect(()=>{B&&(n==null||n(O))},[O]),s.useEffect(()=>{de(!0)},[]);function Ye(){if(!h.current)return;const d=document.querySelector("[vaul-drawer-wrapper]"),w=ve(h.current,l);R(h.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`}),R(G.current,{transition:`opacity ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,opacity:"1"}),i&&w&&w>0&&O&&R(d,{borderRadius:`${Ke}px`,overflow:"hidden",...P(l)?{transform:`scale(${ee()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ee()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`},!0)}function jt(){!q||!h.current||(h.current.classList.remove(Ae),re.current=!1,De(!1),Ee.current=new Date)}function kt(d){if(!q||!h.current)return;h.current.classList.remove(Ae),re.current=!1,De(!1),Ee.current=new Date;const w=ve(h.current,l);if(!ze(d.target,!1)||!w||Number.isNaN(w)||xe.current===null)return;const S=Ee.current.getTime()-xe.current.getTime(),v=Se.current-(P(l)?d.clientY:d.clientX),N=Math.abs(v)/S;if(N>.05&&(We(!0),setTimeout(()=>{We(!1)},200)),a){At({draggedDistance:v*(l==="bottom"||l==="right"?1:-1),closeDrawer:te,velocity:N,dismissible:p}),r==null||r(d,!0);return}if(l==="bottom"||l==="right"?v>0:v<0){Ye(),r==null||r(d,!0);return}if(N>Dt){te(),r==null||r(d,!1);return}var I;const L=Math.min((I=h.current.getBoundingClientRect().height)!=null?I:0,window.innerHeight);if(w>=L*x){te(),r==null||r(d,!1);return}r==null||r(d,!0),Ye()}s.useEffect(()=>{O&&(R(document.documentElement,{scrollBehavior:"auto"}),fe.current=new Date,ge(!0))},[O]),s.useEffect(()=>{if(h.current&&H){var d;const w=h==null||(d=h.current)==null?void 0:d.querySelectorAll("*");w==null||w.forEach(S=>{const v=S;(v.scrollHeight>v.clientHeight||v.scrollWidth>v.clientWidth)&&v.classList.add("vaul-scrollable")})}},[H]);function ge(d){const w=document.querySelector("[vaul-drawer-wrapper]");!w||!i||(d?(b&&(y||(R(document.body,{background:document.body.style.backgroundColor||document.body.style.background}),R(document.body,{background:"black"},!0))),R(w,{borderRadius:`${Ke}px`,overflow:"hidden",...P(l)?{transform:`scale(${ee()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ee()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`})):(we(w,"overflow"),we(w,"transform"),we(w,"borderRadius"),R(w,{transitionProperty:"transform, border-radius",transitionDuration:`${E.DURATION}s`,transitionTimingFunction:`cubic-bezier(${E.EASE.join(",")})`})))}function Ht(d){const w=d?(window.innerWidth-J)/window.innerWidth:1,S=d?-J:0;Re.current&&window.clearTimeout(Re.current),R(h.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:`scale(${w}) translate3d(0, ${S}px, 0)`}),!d&&h.current&&(Re.current=setTimeout(()=>{const v=ve(h.current,l);R(h.current,{transition:"none",transform:P(l)?`translate3d(0, ${v}px, 0)`:`translate3d(${v}px, 0, 0)`})},500))}function Lt(d,w){if(w<0)return;const S=P(l)?window.innerHeight:window.innerWidth,v=(S-J)/S,N=v+w*(1-v),I=-J+w*J;R(h.current,{transform:P(l)?`scale(${N}) translate3d(0, ${I}px, 0)`:`scale(${N}) translate3d(${I}px, 0, 0)`,transition:"none"})}function Wt(d,w){const S=P(l)?window.innerHeight:window.innerWidth,v=w?(S-J)/S:1,N=w?-J:0;w&&R(h.current,{transition:`transform ${E.DURATION}s cubic-bezier(${E.EASE.join(",")})`,transform:P(l)?`scale(${v}) translate3d(0, ${N}px, 0)`:`scale(${v}) translate3d(${N}px, 0, 0)`})}return s.createElement(ln,{modal:W,onOpenChange:d=>{if(e!==void 0){n==null||n(d);return}d?(U(!0),g(d)):te()},open:O},s.createElement(mt.Provider,{value:{visible:H,activeSnapPoint:Nt,snapPoints:a,setActiveSnapPoint:Ve,drawerRef:h,overlayRef:G,scaleBackground:ge,onOpenChange:n,onPress:Mt,setVisible:k,onRelease:kt,onDrag:_t,dismissible:p,handleOnly:m,isOpen:O,isDragging:q,shouldFade:Be,closeDrawer:te,onNestedDrag:Lt,onNestedOpenChange:Ht,onNestedRelease:Wt,keyboardIsOpen:Q,openProp:e,modal:W,snapPointsOffset:ie,direction:l}},t))}const Pn=250,Mn=120,Rt=s.forwardRef(function({preventCycle:e=!1,children:n,...t},i){const{visible:o,closeDrawer:r,isDragging:a,snapPoints:u,activeSnapPoint:b,setActiveSnapPoint:x,dismissible:C,handleOnly:p,onPress:m,onDrag:f}=ye(),_=s.useRef(null),M=s.useRef(!1);function X(){if(M.current){y();return}window.setTimeout(()=>{W()},Mn)}function W(){if(a||e||M.current){y();return}if(y(),(!u||u.length===0)&&C){r();return}if(b===u[u.length-1]&&C){r();return}const D=u.findIndex($=>$===b);if(D===-1)return;const A=u[D+1];x(A)}function z(){_.current=window.setTimeout(()=>{M.current=!0},Pn)}function y(){window.clearTimeout(_.current),M.current=!1}return s.createElement("div",{onClick:X,onDoubleClick:()=>{M.current=!0,r()},onPointerCancel:y,onPointerDown:l=>{p&&m(l),z()},onPointerMove:l=>{p&&f(l)},ref:i,"vaul-drawer-visible":o?"true":"false","vaul-handle":"","aria-hidden":"true",...t},s.createElement("span",{"vaul-handle-hitarea":"","aria-hidden":"true"},n))});Rt.displayName="Drawer.Handle";const St=s.forwardRef(function({children:e,...n},t){const{overlayRef:i,snapPoints:o,onRelease:r,shouldFade:a,isOpen:u,visible:b}=ye(),x=bt(t,i),C=o&&o.length>0;return s.createElement(dn,{onMouseUp:r,ref:x,"vaul-drawer-visible":b?"true":"false","vaul-overlay":"","vaul-snap-points":u&&C?"true":"false","vaul-snap-points-overlay":u&&a?"true":"false",...n})});St.displayName="Drawer.Overlay";const Tt=s.forwardRef(function({onOpenAutoFocus:e,onPointerDownOutside:n,onAnimationEnd:t,style:i,...o},r){const{drawerRef:a,onPress:u,onRelease:b,onDrag:x,dismissible:C,keyboardIsOpen:p,snapPointsOffset:m,visible:f,closeDrawer:_,modal:M,openProp:X,onOpenChange:W,setVisible:z,handleOnly:y,direction:l}=ye(),D=bt(r,a),A=s.useRef(null),$=s.useRef(!1),O=(g,j,U=0)=>{if($.current)return!0;const H=Math.abs(g.y),k=Math.abs(g.x),B=k>H,de=["bottom","right"].includes(j)?1:-1;if(j==="left"||j==="right"){if(!(g.x*de<0)&&k>=0&&k<=U)return B}else if(!(g.y*de<0)&&H>=0&&H<=U)return!B;return $.current=!0,!0};return s.useEffect(()=>{z(!0)},[]),s.createElement(fn,{"vaul-drawer":"","vaul-drawer-direction":l,"vaul-drawer-visible":f?"true":"false",...o,ref:D,style:m&&m.length>0?{"--snap-point-height":`${m[0]}px`,...i}:i,onOpenAutoFocus:g=>{if(e)e(g);else{var j;g.preventDefault(),(j=a.current)==null||j.focus()}},onPointerDown:g=>{y||(o.onPointerDown==null||o.onPointerDown.call(o,g),A.current={x:g.clientX,y:g.clientY},u(g))},onPointerDownOutside:g=>{if(n==null||n(g),!M||g.defaultPrevented){g.preventDefault();return}p.current&&(p.current=!1),g.preventDefault(),W==null||W(!1),!(!C||X!==void 0)&&_()},onFocusOutside:g=>{if(!M){g.preventDefault();return}},onEscapeKeyDown:g=>{if(!M){g.preventDefault();return}},onPointerMove:g=>{if(y||(o.onPointerMove==null||o.onPointerMove.call(o,g),!A.current))return;const j=g.clientY-A.current.y,U=g.clientX-A.current.x,H=g.pointerType==="touch"?10:2;O({x:U,y:j},l,H)?x(g):(Math.abs(U)>H||Math.abs(j)>H)&&(A.current=null)},onPointerUp:g=>{o.onPointerUp==null||o.onPointerUp.call(o,g),A.current=null,$.current=!1,b(g)}})});Tt.displayName="Drawer.Content";function _n({onDrag:e,onOpenChange:n,...t}){const{onNestedDrag:i,onNestedOpenChange:o,onNestedRelease:r}=ye();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return s.createElement(Et,{nested:!0,onClose:()=>{o(!1)},onDrag:(a,u)=>{i(a,u),e==null||e(a,u)},onOpenChange:a=>{a&&o(a),n==null||n(a)},onRelease:r,...t})}const le={Root:Et,NestedRoot:_n,Content:Tt,Handle:Rt,Overlay:St,Trigger:un,Portal:cn,Close:hn,Title:gn,Description:mn},Un=()=>c.jsxs("div",{className:"relative",children:[c.jsxs("p",{children:[c.jsxs("span",{className:"info info-text wall-pad",children:["External library ",c.jsx("span",{className:"font-bold",children:"$ pnpm i vaul"})]})," ","Drawer component for React."," ",c.jsx("a",{href:"https://vaul.emilkowal.ski/",className:"underline",target:"_blank",children:"All documentaiton"})," ","made by"," ",c.jsx("a",{href:"https://emilkowal.ski/",className:"underline",target:"_blank",children:"Emil Kowalski"}),"."]}),c.jsx("div",{children:c.jsxs(le.Root,{shouldScaleBackground:!0,children:[c.jsx(le.Trigger,{asChild:!0,children:c.jsx(Jt,{children:"Open Drawer"})}),c.jsx(le.Overlay,{className:"fixed inset-0 bg-black/40"}),c.jsx(le.Portal,{children:c.jsxs(le.Content,{className:"bg-gray-100 flex flex-col rounded-t-[10px] h-full mt-24 max-h-[96%] fixed bottom-0 left-0 right-0",children:[c.jsx("div",{className:"mx-auto w-6 h-0.5 flex-shrink-0 rounded-full bg-accents-3 mb-2 mt-1"}),c.jsx(Zt,{passDiv:!0,container:"smash",children:c.jsxs("div",{children:[c.jsx("h2",{children:"Drawer for React."}),c.jsx("p",{children:"This component can be used as a Dialog replacement on mobile and tablet devices."}),c.jsxs("p",{children:["It comes unstyled, has gesture-driven animations, and is made by"," ",c.jsx("a",{href:"https://emilkowal.ski/",className:"underline",target:"_blank",children:"Emil Kowalski"}),"."]}),c.jsxs("p",{children:["It uses"," ",c.jsx("a",{href:"https://www.radix-ui.com/docs/primitives/components/dialog",className:"underline",target:"_blank",children:"Radix's Dialog primitive"})," ","under the hood and is inspired by"," ",c.jsx("a",{href:"https://twitter.com/devongovett/status/1674470185783402496",className:"underline",target:"_blank",children:"this tweet."})]})]})})]})})]})})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Un as Default};
