import{r as g,a as s,j as p}from"./index-830694c6.js";import{I as i}from"./input-c02fa55e.js";import{B as v}from"./button-6f8efa3d.js";import{A as E}from"./alert-3b67741f.js";import{G as w}from"./grid-21127d48.js";import{C as x}from"./checkbox-45274f5f.js";const k=e=>{const[t,a]=g.useState(e),[o,m]=g.useState(null),[d,u]=g.useState(!1);return{value:t,onChange:N=>{a(N.target.value),u(!0)},error:o,touch:d,reset:()=>a(""),dialog:m,setTouch:u,setValue:a,helpText:o,isHelping:o&&d}},b=e=>{let t={};for(const a in e)t={...t,[a]:k(e[a])};return t},A=(e,t)=>{const[a,o]=g.useState(!1);return g.useEffect(()=>{o(t(e))},[e]),a},L=()=>{const[e,t]=g.useState({isLoading:!1,isSubmited:!1,info:{isError:!1,message:null}}),a=r=>t(n=>({...n,isLoading:r})),o=r=>t(n=>({...n,isSubmited:r})),m=r=>t(n=>({...n,info:{...n.info,isError:r}})),d=r=>t(n=>({...n,info:{...n.info,message:r}})),u=()=>{t({isLoading:!1,isSubmited:!1,info:{isError:!1,message:null}})};return{state:e,message:e.info.message,setStatus:t,setMessage:d,setIsLoading:a,setSubmited:o,setIsError:m,resetStatus:u}},C=()=>{const e=b({firstName:"",lastName:"",email:"",accept:!1}),{firstName:t,lastName:a,email:o,accept:m}=e;return s("div",{children:p("form",{children:[s(i,{placeholder:"Name",...t}),s(i,{placeholder:"Last name",...a}),s(i,{placeholder:"Email",...o}),s(x,{label:"Accept terms and conditions.",...m})]})})},O=()=>{const e=b({firstName:"",lastName:"",email:""}),{firstName:t,lastName:a,email:o}=e;return s("div",{children:s("form",{children:p(w,{col:"two",children:[s(i,{placeholder:"Name",...t}),s(i,{placeholder:"Last name",...a}),s(i,{placeholder:"Email",...o,classNameContainer:"span-2"})]})})})},P=()=>{const e=L(),t=b({firstName:"",lastName:"",email:""}),{firstName:a,lastName:o,email:m}=t,d=async r=>{r.preventDefault(),e.resetStatus(),e.setIsLoading(!0);const S=await new Promise((N,l)=>{setTimeout(()=>{const f=Math.random()<.5;N({ok:f})},600)});u(S)},u=r=>{if(e.setIsLoading(!1),e.setSubmited(!0),!r.ok){e.setIsError(!0),e.setMessage("An unexpected error has occurred.");return}e.setMessage("Everything has gone well.")};return p("div",{children:[p("form",{onSubmit:d,children:[s(i,{placeholder:"Name",...a}),s(i,{placeholder:"Last name",...o}),s(i,{placeholder:"Email",...m}),s("div",{className:"inputer",children:s(v,{label:"Submit",isLoadingText:"Loading...",isLoading:e.state.isLoading})})]}),s(E,{state:e.state,isPushTop:!0})]})},W=()=>{const e=L(),t=b({firstName:"",lastName:"",email:""}),{firstName:a,lastName:o,email:m}=t,d=l=>Object.values(l).some(f=>f===!1),u=/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,n=A(t,({firstName:l,lastName:f,email:h})=>{let c={};return l.value?(c.firstName=!0,l.dialog(null)):(l.dialog("Name is required."),c.firstName=!1),f.value?(c.lastName=!0,f.dialog(null)):(f.dialog("Name is required."),c.lastName=!1),h.value?u.test(h.value)?(c.email=!0,h.dialog(null)):(h.dialog("Email is not valid."),c.email=!1):(h.dialog("Email is required."),c.email=!1),!d(c)}),S=async l=>{l.preventDefault(),e.resetStatus(),e.setIsLoading(!0);const h=await new Promise((c,T)=>{setTimeout(()=>{const I=Math.random()<.5;c({ok:I})},600)});N(h)},N=l=>{if(e.setIsLoading(!1),e.setSubmited(!0),!l.ok){e.setIsError(!0),e.setMessage("An unexpected error has occurred.");return}e.setMessage("Everything has gone well.")};return p("div",{children:[p("form",{onSubmit:S,children:[s(i,{placeholder:"Name",...a}),s(i,{placeholder:"Last name",...o}),s(i,{placeholder:"Email",...m}),s("div",{className:"inputer",children:s(v,{label:"Submit",isLoadingText:"Loading...",isLoading:e.state.isLoading,isDisabled:!n})})]}),s(E,{state:e.state,isPushTop:!0})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{O as WithGrid,C as WithHook,P as WithStatus,W as WithValidator};
